{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://todo/./src/constants.js","webpack://todo/./src/render.js","webpack://todo/./src/services.js","webpack://todo/./src/stateTodos.js","webpack://todo/webpack/bootstrap","webpack://todo/webpack/runtime/define property getters","webpack://todo/webpack/runtime/hasOwnProperty shorthand","webpack://todo/webpack/runtime/make namespace object","webpack://todo/./src/todos.js"],"sourcesContent":["// These messages are incomplete and just to demonstrate the technique\n// you will have to expand to cover your scenarios!\nexport const MESSAGES = {\n  networkError: 'Trouble connecting to the network.  Please try again',\n  default: 'Something went wrong.  Please try again',\n};\n\n\n","import { MESSAGES } from './constants';\n\nexport function render( { state, add } = {} ) {\n  const html = Object.values(state.todos).map( todo => {\n    const isDoneClass = todo.done ? \"todo__text--complete\" : \"\";\n    const isAddedClass = add === todo.id ? \"todo__text--added\" : \"\";\n    return `\n      <li class=\"todo\">\n        <label\n        >\n          <input\n            class=\"todo__toggle\"\n            data-id=\"${todo.id}\"\n            type=\"checkbox\"\n            ${todo.done ? \"checked\" : \"\"}\n          >\n          <span\n            data-id=\"${todo.id}\"\n            class=\"todo__toggle todo__text ${ isDoneClass } ${isAddedClass} \"\n          >\n            ${todo.task}\n          </span>\n        </label>\n        <button\n          data-id=\"${todo.id}\"\n          class=\"todo__delete\"\n        >\n          &#10060;\n        </button>\n      </li>\n      `;\n  }).join('') || `<p>No Todo Items yet, add one!</p>`;\n  const todosEl = document.querySelector('.todos');\n  todosEl.innerHTML = html;\n}\n\nexport function renderStatus(message) {\n  const statusEl = document.querySelector('.status');\n  if( !message ) {\n    statusEl.innerText = '';\n    return;\n  }\n  const key = message?.error ? message.error : 'default';\n  statusEl.innerText = MESSAGES[key] || MESSAGES.default;\n}\n\n","export function fetchAddTodo(task) {\n  return fetch('/api/todos', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify( { task } ),\n  })\n  .catch( () => Promise.reject({ error: 'networkError' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json()\n    .catch( error => Promise.reject({ error }) )\n    .then( err => Promise.reject(err) );\n  });\n}\n\nexport function fetchDeleteTodo(id) {\n  return fetch(`/api/todos/${id}`, {\n    method: 'DELETE',\n  })\n  .catch( () => Promise.reject({ error: 'networkError' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json()\n    .catch( error => Promise.reject({ error }) )\n    .then( err => Promise.reject(err) );\n  });\n}\n\nexport function fetchUpdateTodo( id, todoUpdates ) {\n  return fetch(`/api/todos/${id}`, {\n    method: 'PATCH',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify( todoUpdates ),\n  })\n  .catch( () => Promise.reject({ error: 'networkError' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json()\n    .catch( error => Promise.reject({ error }) )\n    .then( err => Promise.reject(err) );\n  });\n}\n\nexport function fetchTodos() {\n  return fetch('/api/todos')\n  .catch( () => Promise.reject({ error: 'networkError' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json()\n    .catch( error => Promise.reject({ error }) )\n    .then( err => Promise.reject(err) );\n  });\n}\n\nexport function fetchSession() {\n  return fetch('/api/session', {\n    method: 'GET',\n  })\n  .catch( () => Promise.reject({ error: 'networkError' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json()\n    .catch( error => Promise.reject({ error }) )\n    .then( err => Promise.reject(err) );\n  });\n}\n\nexport function fetchLogout() {\n  return fetch('/api/session', {\n    method: 'DELETE',\n  })\n  .catch( () => Promise.reject({ error: 'networkError' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json()\n    .catch( error => Promise.reject({ error }) )\n    .then( err => Promise.reject(err) );\n  });\n}\n\nexport function fetchLogin(username) {\n  return fetch('/api/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({ username }),\n  })\n  .catch( () => Promise.reject({ error: 'networkError' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json()\n    .catch( error => Promise.reject({ error }) )\n    .then( err => Promise.reject(err) );\n  });\n}\n\n","// We store these as an object because we will access by id\nconst todos = {};\n\n// I don't have any other functions here\n// all my state manipulation is in the main controller section\n// What does this make easier/harder?\nexport default {\n  todos,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import state from './stateTodos';\nimport {\n  fetchAddTodo,\n  fetchDeleteTodo,\n  fetchUpdateTodo,\n  fetchTodos,\n  fetchSession,\n  fetchLogout,\n  fetchLogin,\n} from './services';\nimport { render, renderStatus } from './render';\n\ncheckForSession();\naddAbilityToLogin();\naddAbilityToLogout();\naddAbilityToRefresh();\naddAbilityToToggleComplete();\naddAbilityToAddTodo();\naddAbilityToRemoveTodo();\n\n/////////////////////////////////\nfunction setLoggedIn( isLoggedIn ) {\n  // Notice how more complicated this is because we're not basing this off of state data\n  // Not just here, but in the places we have to change our login status\n  // This complexity is why I recommend rendering based on state\n  // instead of hiding/showing elements\n  const loginEl = document.querySelector('main');\n  if(isLoggedIn) {\n    loginEl.classList.remove('not-logged-in');\n    loginEl.classList.add('logged-in');\n  } else {\n    loginEl.classList.add('not-logged-in');\n    loginEl.classList.remove('logged-in');\n  }\n  render({state});\n  renderStatus('');\n}\n\nfunction renderOnLogin(todos) {\n  state.todos = todos;\n  setLoggedIn(true);\n}\n\nfunction checkForSession() {\n  fetchSession()\n  .then( populateTodos )\n  .catch( () => setLoggedIn(false) );\n}\n\n// In below \"addAbility*\" functions I'm demonstrating attaching events to\n// different spots in the HTML, not to one top level element\n// However, notice that all of these elements are NOT replaced in render()\n// so this still works\n//\n// See how the two styles differ and what is easier/harder with each\nfunction addAbilityToLogin() {\n  const buttonEl = document.querySelector('.login button');\n  const usernameEl = document.querySelector('.login__username');\n\n  // Below and elsewhere I attach to \"click\" and not \"submit\" on a form\n  // As a result, I can't hit \"enter\" in the single input to make it progress\n  // How would you write these using \"submit\"?\n  buttonEl.addEventListener('click', (e) => {\n    const username = usernameEl.value;\n    fetchLogin(username)\n    .then( renderOnLogin )\n    .catch( error => renderStatus(error) );\n  });\n}\n\nfunction addAbilityToLogout() {\n  const buttonEl = document.querySelector('.logout');\n  buttonEl.addEventListener('click', (e) => {\n    state.todos = {};\n    fetchLogout()\n    .then( () => setLoggedIn(false) )\n    .catch( error => renderStatus(error) );\n  });\n}\n\nfunction populateTodos() {\n  fetchTodos()\n  .then( rawTodos => {\n    state.todos = rawTodos;\n    setLoggedIn(true);\n    render({ state });\n    renderStatus('');\n  })\n  .catch( error => {\n    renderStatus(error);\n  });\n}\n\nfunction addAbilityToAddTodo() {\n  const buttonEl = document.querySelector('.add');\n  const inputEl = document.querySelector('.to-add');\n  buttonEl.addEventListener('click', (e) => {\n    e.preventDefault();\n    const task = inputEl.value;\n    fetchAddTodo(task)\n    .then( todo => {\n      inputEl.value = '';\n      state.todos[todo.id] = todo;\n      render({state, add: todo.id });\n      renderStatus('');\n    })\n    .catch( err => {\n      renderStatus(err || 'error');\n    });\n  });\n}\n\nfunction addAbilityToRemoveTodo() {\n  const listEl = document.querySelector('.todos');\n  listEl.addEventListener('click', (e) => {\n    e.preventDefault();\n    if(!e.target.classList.contains('todo__delete')) {\n      return;\n    }\n    const id = e.target.dataset.id;\n    fetchDeleteTodo(id)\n    // Below is an alternate path, if we were \"trusting\" our in-app state to be\n    // be as up-to-date as the server\n    //\n    // Different applications will have different assumptions\n    //\n    // .then( () => {\n    //   delete state.todos[id];\n    //   render({ state });\n    //   renderStatus('');\n    // })\n    //\n    // Instead, we will ask the server for an update and rerender with those results\n    .then( populateTodos )\n    .catch( err => {\n      renderStatus(err);\n    });\n  });\n}\n\nfunction addAbilityToToggleComplete() {\n  const listEl = document.querySelector('.todos');\n  listEl.addEventListener('click', (e) => {\n    if(!e.target.classList.contains('todo__toggle')) {\n      return;\n    }\n\n    const id = e.target.dataset.id;\n    fetchUpdateTodo(id, { done: !state.todos[id].done } )\n    .then( todo => {\n      state.todos[id] = todo;\n      render({ state });\n      renderStatus('');\n    })\n    .catch( err => {\n      renderStatus(err);\n    });\n\n  });\n}\n\nfunction addAbilityToRefresh() {\n  const buttonEl = document.querySelector('.refresh');\n  buttonEl.addEventListener('click', () => {\n    populateTodos();\n  });\n}\n\n"],"names":["MESSAGES","networkError","render","state","add","html","Object","values","todos","map","todo","isDoneClass","done","isAddedClass","id","task","join","todosEl","document","querySelector","innerHTML","renderStatus","message","statusEl","innerText","key","error","fetchAddTodo","fetch","method","headers","Headers","body","JSON","stringify","Promise","reject","then","response","ok","json","err","fetchDeleteTodo","fetchUpdateTodo","todoUpdates","fetchTodos","fetchSession","fetchLogout","fetchLogin","username","checkForSession","addAbilityToLogin","addAbilityToLogout","addAbilityToRefresh","addAbilityToToggleComplete","addAbilityToAddTodo","addAbilityToRemoveTodo","setLoggedIn","isLoggedIn","loginEl","classList","remove","renderOnLogin","populateTodos","buttonEl","usernameEl","addEventListener","e","value","rawTodos","inputEl","preventDefault","listEl","target","contains","dataset"],"sourceRoot":""}